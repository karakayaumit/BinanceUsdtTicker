<Window x:Class="BinanceUsdtTicker.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Ayarlar"
        Width="500" Height="450" ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource Surface}"
        Foreground="{DynamicResource OnSurface}">

    <Window.Resources>
        <!-- Basic theming for tabs -->
        <Style TargetType="TabControl">
            <Setter Property="Background" Value="{DynamicResource SurfaceAlt}"/>
            <Setter Property="Foreground" Value="{DynamicResource OnSurface}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource Divider}"/>
            <!-- Custom template so the tab strip also picks up the theme colors -->
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabControl">
                        <DockPanel>
                            <!-- Left tab strip -->
                            <Border DockPanel.Dock="Left"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="0,0,1,0">
                                <TabPanel IsItemsHost="True"
                                          Background="{TemplateBinding Background}"/>
                            </Border>
                            <!-- Content area -->
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}">
                                <ContentPresenter x:Name="PART_SelectedContentHost"
                                                  Margin="{TemplateBinding Padding}"
                                                  ContentSource="SelectedContent"/>
                            </Border>
                        </DockPanel>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="TabItem">
            <Setter Property="Background" Value="{DynamicResource SurfaceAlt}"/>
            <Setter Property="Foreground" Value="{DynamicResource OnSurface}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource Divider}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="MinWidth" Value="100"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border x:Name="Bd"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter ContentSource="Header"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="{DynamicResource SelectionBg}"/>
                    <Setter Property="Foreground" Value="{DynamicResource SelectionFg}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="ToggleSwitchStyle" TargetType="CheckBox" BasedOn="{StaticResource {x:Type CheckBox}}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <StackPanel Orientation="Horizontal">
                            <Grid Width="50" Height="20">
                                <Border x:Name="SwitchBorder" Background="Red" CornerRadius="10"/>
                                <Border x:Name="SwitchKnob" Width="18" Height="18" Background="White" CornerRadius="9" Margin="1" HorizontalAlignment="Left"/>
                                <TextBlock x:Name="SwitchText" Text="Off" Foreground="White" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="4,0"/>
                            </Grid>
                            <ContentPresenter Margin="10,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="SwitchBorder" Property="Background" Value="Green"/>
                                <Setter TargetName="SwitchKnob" Property="HorizontalAlignment" Value="Right"/>
                                <Setter TargetName="SwitchText" Property="Text" Value="On"/>
                                <Setter TargetName="SwitchText" Property="HorizontalAlignment" Value="Left"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TabControl Grid.Row="0" TabStripPlacement="Left">
            <TabItem Header="Sistem Ayarları">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="Base URL:" Width="120" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding BaseUrl}" Width="300"/>
                    </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                                <TextBlock Text="Translate Key:" Width="120" VerticalAlignment="Center"/>
                                                <TextBox Text="{Binding TranslateKey}" Width="300"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                                                <TextBlock Text="Translate Region:" Width="120" VerticalAlignment="Center"/>
                                                <TextBox Text="{Binding TranslateRegion}" Width="300"/>
                                        </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="DB Server:" Width="120" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding DbServer}" Width="300"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="DB Name:" Width="120" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding DbName}" Width="300"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="DB User:" Width="120" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding DbUser}" Width="300"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="DB Password:" Width="120" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding DbPassword}" Width="300"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>
            <TabItem Header="Ticaret Tercihi">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="Margin Mod:" Width="120" VerticalAlignment="Center"/>
                        <ComboBox Width="150"
                                  SelectedValue="{Binding MarginMode}"
                                  SelectedValuePath="Content">
                            <ComboBoxItem Content="Isolated"/>
                            <ComboBoxItem Content="Cross"/>
                        </ComboBox>
                    </StackPanel>
                </StackPanel>
            </TabItem>
            <TabItem Header="API Bilgileri">
                <StackPanel Margin="10">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="Binance API Key:" Width="120" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding BinanceApiKey}" Width="300" MaxLength="64"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBlock Text="Binance Secret Key:" Width="120" VerticalAlignment="Center"/>
                        <TextBox Text="{Binding BinanceApiSecret}" Width="300" MaxLength="64"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>
            <TabItem Header="Bildirimler">
                <StackPanel Margin="10">
                    <CheckBox Content="Windows bildirimi gönder" IsChecked="{Binding WindowsNotification}" Style="{StaticResource ToggleSwitchStyle}"/>
                </StackPanel>
            </TabItem>
            <TabItem Header="Tema" IsSelected="True">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <Button Grid.Row="0" Grid.Column="0" Content="Tema Rengi..." Click="ThemeColor_Click" Margin="0,0,10,5"/>
                        <Border Grid.Row="0" Grid.Column="1" Height="20" BorderBrush="{DynamicResource Divider}" BorderThickness="1" Background="{Binding ThemeColor}" Margin="0,0,0,5"/>

                        <Button Grid.Row="1" Grid.Column="0" Content="Yazı Rengi..." Click="TextColor_Click" Margin="0,0,10,5"/>
                        <Border Grid.Row="1" Grid.Column="1" Height="20" BorderBrush="{DynamicResource Divider}" BorderThickness="1" Background="{Binding TextColor}" Margin="0,0,0,5"/>

                        <Button Grid.Row="2" Grid.Column="0" Content="Yükseliş %1-%3..." Click="Up1Color_Click" Margin="0,0,10,5"/>
                        <Border Grid.Row="2" Grid.Column="1" Height="20" BorderBrush="{DynamicResource Divider}" BorderThickness="1" Background="{Binding Up1Color}" Margin="0,0,0,5"/>

                        <Button Grid.Row="3" Grid.Column="0" Content="Yükseliş ≥%3..." Click="Up3Color_Click" Margin="0,0,10,5"/>
                        <Border Grid.Row="3" Grid.Column="1" Height="20" BorderBrush="{DynamicResource Divider}" BorderThickness="1" Background="{Binding Up3Color}" Margin="0,0,0,5"/>

                        <Button Grid.Row="4" Grid.Column="0" Content="Düşüş -%1 - -%3..." Click="Down1Color_Click" Margin="0,0,10,5"/>
                        <Border Grid.Row="4" Grid.Column="1" Height="20" BorderBrush="{DynamicResource Divider}" BorderThickness="1" Background="{Binding Down1Color}" Margin="0,0,0,5"/>

                        <Button Grid.Row="5" Grid.Column="0" Content="Düşüş ≤-%3..." Click="Down3Color_Click" Margin="0,0,10,5"/>
                        <Border Grid.Row="5" Grid.Column="1" Height="20" BorderBrush="{DynamicResource Divider}" BorderThickness="1" Background="{Binding Down3Color}" Margin="0,0,0,5"/>

                        <Button Grid.Row="6" Grid.Column="0" Content="Tablo Çizgileri..." Click="DividerColor_Click" Margin="0,0,10,5"/>
                        <Border Grid.Row="6" Grid.Column="1" Height="20" BorderBrush="{DynamicResource Divider}" BorderThickness="1" Background="{Binding DividerColor}" Margin="0,0,0,5"/>

                        <Button Grid.Row="7" Grid.Column="0" Content="Ekrandaki Kontrollerin Rengi..." Click="ControlColor_Click" Margin="0,0,10,5"/>
                        <Border Grid.Row="7" Grid.Column="1" Height="20" BorderBrush="{DynamicResource Divider}" BorderThickness="1" Background="{Binding ControlColor}" Margin="0,0,0,5"/>
                    </Grid>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="Varsayılan Ayarlara Dön" Click="ResetDefaults_Click" Margin="0,0,10,0"/>
            <Button Content="Kaydet" Click="Save_Click" Width="80"/>
        </StackPanel>
    </Grid>
</Window>
