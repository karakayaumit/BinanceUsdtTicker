<Window x:Class="BinanceUsdtTicker.ChartWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        xmlns:lvcx="clr-namespace:LiveChartsCore.SkiaSharpView;assembly=LiveChartsCore.SkiaSharpView"
        Title="Grafik" Height="420" Width="680"
        Background="{DynamicResource Surface}"
        Foreground="{DynamicResource OnSurface}">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Üst kontrol şeridi -->
        <StackPanel Orientation="Horizontal">
            <TextBlock Text="Sembol:" VerticalAlignment="Center" Margin="0,0,6,0"/>
            <TextBlock x:Name="SymbolText" FontWeight="Bold" VerticalAlignment="Center"/>

            <TextBlock Text="Aralık:" Margin="16,0,0,0" VerticalAlignment="Center"/>
            <ComboBox x:Name="IntervalBox" Width="90"
                      SelectionChanged="IntervalBox_SelectionChanged"
                      Margin="6,0,0,0">
                <ComboBoxItem Content="1m"  Tag="1m"/>
                <ComboBoxItem Content="5m"  Tag="5m"  IsSelected="True"/>
                <ComboBoxItem Content="15m" Tag="15m"/>
                <ComboBoxItem Content="1h"  Tag="1h"/>
                <ComboBoxItem Content="4h"  Tag="4h"/>
                <ComboBoxItem Content="1d"  Tag="1d"/>
            </ComboBox>

            <Button Content="Yenile" Click="Refresh_Click" Margin="8,0,0,0"/>
        </StackPanel>

        <!-- Grafik çizim alanı -->
        <Border Grid.Row="1" Margin="0,10,0,0"
                BorderBrush="{DynamicResource Divider}" BorderThickness="1" Padding="8"
                Background="{DynamicResource SurfaceAlt}">
            <Grid>
                <!-- Canlı mum grafiği için LiveCharts -->
                <lvc:CartesianChart x:Name="CandleChart">
                    <lvc:CartesianChart.Series>
                        <lvcx:CandlesticksSeries x:Name="CandleSeries"/>
                    </lvc:CartesianChart.Series>
                </lvc:CartesianChart>
                <!-- Veri veya hata mesajları için -->
                <TextBlock x:Name="InfoText" Text="Yükleniyor..."
                           HorizontalAlignment="Center" VerticalAlignment="Center"
                           Opacity="0.7" Panel.ZIndex="1"/>
            </Grid>
        </Border>
    </Grid>
</Window>

