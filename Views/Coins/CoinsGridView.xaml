<UserControl x:Class="BinanceUsdtTicker.Views.Coins.CoinsGridView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!-- Görünürlük tanı etiketi -->
    <Border Background="#1133AA" Padding="4" Margin="0,0,0,6">
      <TextBlock Text="DevExpress CoinsGrid LOADED" Foreground="White" FontWeight="Bold"/>
    </Border>

    <dxg:GridControl x:Name="CoinsGrid"
                     Grid.Row="1"
                     ItemsSource="{Binding Items}"
                     AutoGenerateColumns="None"
                     Height="Auto">
      <dxg:GridControl.View>
        <dxg:TableView
          AllowPerPixelScrolling="True"
          NavigationStyle="Row"
          AllowRowFixing="Top"
          ShowFixRowButton="Always"/>
      </dxg:GridControl.View>

      <dxg:GridControl.Columns>
        <dxg:GridColumn FieldName="IsFavorite" Header="★" Width="44" Fixed="Left" AllowSorting="False">
          <dxg:GridColumn.EditSettings>
            <dxe:CheckEditSettings/>
          </dxg:GridColumn.EditSettings>
        </dxg:GridColumn>

        <dxg:GridColumn FieldName="Symbol" Header="Sembol" Width="120" Fixed="Left"/>

        <dxg:GridColumn FieldName="Price" Header="Fiyat" Width="120">
          <dxg:GridColumn.EditSettings>
            <dxe:TextEditSettings DisplayFormatString="#,0.########" MaskUseAsDisplayFormat="True"/>
          </dxg:GridColumn.EditSettings>
        </dxg:GridColumn>

        <dxg:GridColumn FieldName="ChangePct" Header="%24s" Width="90">
          <dxg:GridColumn.EditSettings>
            <dxe:TextEditSettings DisplayFormatString="+0.##%;-0.##%;0%"/>
          </dxg:GridColumn.EditSettings>
        </dxg:GridColumn>

        <dxg:GridColumn FieldName="Volume" Header="Hacim" Width="130">
          <dxg:GridColumn.EditSettings>
            <dxe:TextEditSettings DisplayFormatString="#,0.########" MaskUseAsDisplayFormat="True"/>
          </dxg:GridColumn.EditSettings>
        </dxg:GridColumn>
      </dxg:GridControl.Columns>

      <!-- Anlık değişim vurgusu -->
      <dxg:GridControl.ConditionalFormatting>
        <dxg:ConditionalFormattingCollection>
          <dxg:DataUpdateFormatCondition FieldName="Price" DataUpdateRule="Increased" Duration="0:0:02"/>
          <dxg:DataUpdateFormatCondition FieldName="Price" DataUpdateRule="Decreased" Duration="0:0:02"/>
          <dxg:DataUpdateFormatCondition FieldName="ChangePct" DataUpdateRule="Increased" Duration="0:0:02"/>
          <dxg:DataUpdateFormatCondition FieldName="ChangePct" DataUpdateRule="Decreased" Duration="0:0:02"/>
        </dxg:ConditionalFormattingCollection>
      </dxg:GridControl.ConditionalFormatting>
    </dxg:GridControl>
  </Grid>
</UserControl>
